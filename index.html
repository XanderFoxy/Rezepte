<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XanderFoxy - Archivio Ricette</title>
    <style>
        :root {
            --bg: #121212;
            --card: #1e1e1e;
            --accent: #e67e22;
        }

        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Header & Navigation */
        .nav-header { width: 100%; max-width: 1200px; display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
        .back-btn { 
            display: none; background: #333; border: 1px solid var(--accent); 
            color: white; padding: 10px 15px; border-radius: 4px; cursor: pointer;
        }

        /* Grid - Keine Stapelung (Non-stacked Gallery) */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px; width: 100%; max-width: 1200px;
        }

        .recipe-tile { height: 400px; perspective: 1000px; cursor: pointer; }
        .tile-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .recipe-tile:hover .tile-inner { transform: rotateY(180deg); }
        .front, .back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; overflow: hidden; }
        .front img { width: 100%; height: 100%; object-fit: cover; }
        .back { background: var(--accent); transform: rotateY(180deg); display: flex; flex-direction: column; justify-content: center; align-items: center; }

        /* Overlay & Buch-Mechanik ohne dekorative Effekte */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); display: none;
            justify-content: center; align-items: center; z-index: 1000;
        }

        .book-container {
            width: 1000px; /* Die exakte Breite beider Bilder zusammen */
            height: 700px; /* Die exakte Höhe */
            display: flex;
            position: relative;
            perspective: 2500px;
        }

        .page-left-fixed, .page-right-flip {
            width: 50%;
            height: 100%;
            position: relative;
        }

        .page-left-fixed {
            z-index: 1;
            overflow: hidden;
            background: #000; /* Hintergrund falls Bild lädt */
        }

        .page-right-flip {
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
            transform-origin: left;
            z-index: 2;
            cursor: pointer;
        }

        .page-front, .page-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            overflow: hidden;
        }

        .page-back { transform: rotateY(180deg); }

        /* Bilder füllen die Container exakt aus */
        .page-img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: cover; /* Nutzt die volle Fläche der Container */
        }

        .flipped { transform: rotateY(-180deg); }

        .close-btn {
            position: absolute; top: -60px; right: 0; color: white;
            font-size: 40px; cursor: pointer;
        }
    </style>
</head>
<body>

<div class="nav-header">
    <button id="backBtn" class="back-btn" onclick="showHome()">← Zurück</button>
    <h1 id="viewTitle">XanderFoxy's Rezepte</h1>
</div>

<div id="homeView" class="grid">
    <div class="recipe-tile" onclick="showCannoliVersions()">
        <div class="tile-inner">
            <div class="front"><img src="Bilder/IMG_1744.png"></div>
            <div class="back"><h2>Cannoli</h2><p>Versionen anzeigen</p></div>
        </div>
    </div>
    <div class="recipe-tile">
        <div class="tile-inner">
            <div class="front"><img src="Bilder/IMG_1957.jpeg"></div>
            <div class="back"><h2>Granita</h2><p>Prossimamente</p></div>
        </div>
    </div>
</div>

<div id="cannoliView" class="grid" style="display: none;">
    <div class="recipe-tile" onclick="openBook()">
        <div class="tile-inner">
            <div class="front"><img src="Bilder/IMG_1971.png"></div>
            <div class="back"><h2>Sicilia Edition</h2><p>Apri libro</p></div>
        </div>
    </div>
</div>

<div class="overlay" id="bookOverlay">
    <div class="book-container">
        <span class="close-btn" onclick="closeBook()">&times;</span>
        
        <div class="page-left-fixed">
            <img src="Bilder/IMG_1971.png" class="page-img">
        </div>

        <div class="page-right-flip" id="flipper" onclick="flipPage()">
            <div class="page-front">
                <img src="Bilder/IMG_1972.png" class="page-img">
            </div>
            <div class="page-back">
                <img src="Bilder/IMG_1745.png" class="page-img">
            </div>
        </div>
    </div>
</div>

<script>
    function showCannoliVersions() {
        document.getElementById('homeView').style.display = 'none';
        document.getElementById('cannoliView').style.display = 'grid';
        document.getElementById('backBtn').style.display = 'block';
        document.getElementById('viewTitle').innerText = 'Cannoli - Versionen';
    }

    function showHome() {
        document.getElementById('homeView').style.display = 'grid';
        document.getElementById('cannoliView').style.display = 'none';
        document.getElementById('backBtn').style.display = 'none';
        document.getElementById('viewTitle').innerText = "XanderFoxy's Rezepte";
    }

    function openBook() { document.getElementById('bookOverlay').style.display = 'flex'; }
    function closeBook() {
        document.getElementById('bookOverlay').style.display = 'none';
        document.getElementById('flipper').classList.remove('flipped');
    }
    function flipPage() { document.getElementById('flipper').classList.toggle('flipped'); }
</script>

</body>
</html>
